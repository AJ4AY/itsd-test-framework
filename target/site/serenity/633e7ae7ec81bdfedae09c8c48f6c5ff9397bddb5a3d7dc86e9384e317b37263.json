{"name":"Retrieve income source for a valid taxEntityId","id":"retrieveincomesourcedetails;retrieve-income-source-for-a-valid-taxentityid","testSteps":[{"number":1,"description":"Given I have valid unique identifier for taxEntityId","duration":15,"startTime":"2018-05-22T14:07:01.718210+01:00[Europe/London]","result":"SUCCESS","precondition":false},{"number":2,"description":"And valid unique identifier for incomeSourceId","duration":0,"startTime":"2018-05-22T14:07:01.733832700+01:00[Europe/London]","result":"SUCCESS","precondition":false},{"number":3,"description":"And I have valid income source details","duration":15,"startTime":"2018-05-22T14:07:01.765084200+01:00[Europe/London]","result":"SUCCESS","precondition":false},{"number":4,"description":"When I post the income source details","duration":312,"startTime":"2018-05-22T14:07:01.780709100+01:00[Europe/London]","result":"SUCCESS","precondition":false,"children":[{"number":5,"description":"POST http://10.102.163.188:80/income-sources/bJ7nt01tcvpkRT7f/Z74ywgfQt11TMjG\r\r","duration":0,"startTime":"2018-05-22T14:07:02.093217800+01:00[Europe/London]","result":"SUCCESS","restQuery":{"method":"POST","path":"http://10.102.163.188:80/income-sources/bJ7nt01tcvpkRT7f/Z74ywgfQt11TMjG\r\r","content":"{\n    \"commencementDate\": \"2018-04-21\",\n    \"incomeSourceName\": \"UMYVIOEPZKGGWJ\",\n    \"incomeSourceId\": \"Z74ywgfQt11TMjG\",\n    \"taxationPeriods\": [\n        {\n            \"accountingPeriodStartDate\": \"2018-04-11\",\n            \"accountingPeriodEndDate\": \"2019-02-15\"\n        }\n    ],\n    \"taxEntityId\": \"bJ7nt01tcvpkRT7f\",\n    \"incomeSourceType\": \"10\"\n}\r","contentType":"application/json","requestHeaders":"Accept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Connection: keep-alive\nTransfer-Encoding: chunked\nContent-Type: application/json\nX-Application-Context: api-gateway:default:8001\nDate: Tue, 22 May 2018 13:07:01 GMT\r","responseCookies":"\r","responseBody":"{\n    \"timestamp\": \"2018-05-22T13:07:01.919Z\",\n    \"status\": 409,\n    \"message\": \"Income source ID already exists.\"\n}","statusCode":409},"precondition":false}]},{"number":6,"description":"Then I should see the response status code for post as 202","duration":46,"startTime":"2018-05-22T14:07:02.108841300+01:00[Europe/London]","exception":{"errorType":"java.lang.AssertionError","message":"1 expectation failed.\nExpected status code \u003c202\u003e but was \u003c409\u003e.\n","stackTrace":[{"moduleName":"java.base","moduleVersion":"9.0.4","declaringClass":"jdk.internal.reflect.NativeConstructorAccessorImpl","methodName":"newInstance0","fileName":"NativeConstructorAccessorImpl.java","lineNumber":-2,"format":2},{"moduleName":"java.base","moduleVersion":"9.0.4","declaringClass":"jdk.internal.reflect.NativeConstructorAccessorImpl","methodName":"newInstance","fileName":"NativeConstructorAccessorImpl.java","lineNumber":62,"format":2},{"moduleName":"java.base","moduleVersion":"9.0.4","declaringClass":"jdk.internal.reflect.DelegatingConstructorAccessorImpl","methodName":"newInstance","fileName":"DelegatingConstructorAccessorImpl.java","lineNumber":45,"format":2},{"classLoaderName":"app","declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"validateResponseIfRequired","fileName":"ResponseSpecificationImpl.groovy","lineNumber":654,"format":1},{"moduleName":"java.base","moduleVersion":"9.0.4","declaringClass":"jdk.internal.reflect.NativeMethodAccessorImpl","methodName":"invoke0","fileName":"NativeMethodAccessorImpl.java","lineNumber":-2,"format":2},{"moduleName":"java.base","moduleVersion":"9.0.4","declaringClass":"jdk.internal.reflect.NativeMethodAccessorImpl","methodName":"invoke","fileName":"NativeMethodAccessorImpl.java","lineNumber":62,"format":2},{"moduleName":"java.base","moduleVersion":"9.0.4","declaringClass":"jdk.internal.reflect.DelegatingMethodAccessorImpl","methodName":"invoke","fileName":"DelegatingMethodAccessorImpl.java","lineNumber":43,"format":2},{"classLoaderName":"app","declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":124,"format":1},{"classLoaderName":"app","declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":132,"format":1},{"classLoaderName":"app","declaringClass":"io.restassured.internal.ValidatableResponseOptionsImpl","methodName":"statusCode","fileName":"ValidatableResponseOptionsImpl.java","lineNumber":119,"format":1},{"classLoaderName":"app","declaringClass":"com.itsd.test.tests.IncomeSourceEOPSTest","methodName":"validatePostResponseCode","fileName":"IncomeSourceEOPSTest.java","lineNumber":35,"format":1},{"classLoaderName":"app","declaringClass":"com.itsd.test.steps.IncomeSourceEOPSSteps","methodName":"verifyPostStatusCode","fileName":"IncomeSourceEOPSSteps.java","lineNumber":61,"format":1},{"declaringClass":"✽","methodName":"I should see the response status code for post as 202","fileName":"src/test/resources/features/incomesourcestore/RetrieveIncomeSourceDetails.feature","lineNumber":19,"format":0}]},"result":"FAILURE","precondition":false},{"number":7,"description":"When I retrieve the income source details","duration":0,"startTime":"2018-05-22T14:07:02.155717+01:00[Europe/London]","result":"SKIPPED","precondition":false},{"number":8,"description":"Then I should see the response status code for income source as 200","duration":0,"startTime":"2018-05-22T14:07:02.171343400+01:00[Europe/London]","result":"SKIPPED","precondition":false}],"userStory":{"id":"retrieveincomesourcedetails","storyName":"Retrieveincomesourcedetails","path":"src/test/resources/features/incomesourcestore/RetrieveIncomeSourceDetails.feature","narrative":"  As a user\n  I want to retrieve income source details for a given taxEntityId\n  so that  view the retrieved EOPS income source details","type":"feature"},"featureTag":{"name":"Incomesourcestore/Retrieveincomesourcedetails","type":"feature"},"title":"Retrieve income source for a valid taxEntityId","tags":[{"name":"IncomeSourcesStore","type":"tag"},{"name":"Integration","type":"tag"},{"name":"Incomesourcestore","type":"capability"},{"name":"Regression","type":"tag"},{"name":"API#36","type":"tag"},{"name":"Incomesourcestore/Retrieve income source details","type":"feature"}],"startTime":"2018-05-22T14:07:01.671391+01:00[Europe/London]","duration":593,"testFailureCause":{"errorType":"java.lang.AssertionError","message":"1 expectation failed.\nExpected status code \u003c202\u003e but was \u003c409\u003e.\n","stackTrace":[{"moduleName":"java.base","moduleVersion":"9.0.4","declaringClass":"jdk.internal.reflect.NativeConstructorAccessorImpl","methodName":"newInstance0","fileName":"NativeConstructorAccessorImpl.java","lineNumber":-2,"format":2},{"moduleName":"java.base","moduleVersion":"9.0.4","declaringClass":"jdk.internal.reflect.NativeConstructorAccessorImpl","methodName":"newInstance","fileName":"NativeConstructorAccessorImpl.java","lineNumber":62,"format":2},{"moduleName":"java.base","moduleVersion":"9.0.4","declaringClass":"jdk.internal.reflect.DelegatingConstructorAccessorImpl","methodName":"newInstance","fileName":"DelegatingConstructorAccessorImpl.java","lineNumber":45,"format":2},{"classLoaderName":"app","declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"validateResponseIfRequired","fileName":"ResponseSpecificationImpl.groovy","lineNumber":654,"format":1},{"moduleName":"java.base","moduleVersion":"9.0.4","declaringClass":"jdk.internal.reflect.NativeMethodAccessorImpl","methodName":"invoke0","fileName":"NativeMethodAccessorImpl.java","lineNumber":-2,"format":2},{"moduleName":"java.base","moduleVersion":"9.0.4","declaringClass":"jdk.internal.reflect.NativeMethodAccessorImpl","methodName":"invoke","fileName":"NativeMethodAccessorImpl.java","lineNumber":62,"format":2},{"moduleName":"java.base","moduleVersion":"9.0.4","declaringClass":"jdk.internal.reflect.DelegatingMethodAccessorImpl","methodName":"invoke","fileName":"DelegatingMethodAccessorImpl.java","lineNumber":43,"format":2},{"classLoaderName":"app","declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":124,"format":1},{"classLoaderName":"app","declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":132,"format":1},{"classLoaderName":"app","declaringClass":"io.restassured.internal.ValidatableResponseOptionsImpl","methodName":"statusCode","fileName":"ValidatableResponseOptionsImpl.java","lineNumber":119,"format":1},{"classLoaderName":"app","declaringClass":"com.itsd.test.tests.IncomeSourceEOPSTest","methodName":"validatePostResponseCode","fileName":"IncomeSourceEOPSTest.java","lineNumber":35,"format":1},{"classLoaderName":"app","declaringClass":"com.itsd.test.steps.IncomeSourceEOPSSteps","methodName":"verifyPostStatusCode","fileName":"IncomeSourceEOPSSteps.java","lineNumber":61,"format":1},{"declaringClass":"✽","methodName":"I should see the response status code for post as 202","fileName":"src/test/resources/features/incomesourcestore/RetrieveIncomeSourceDetails.feature","lineNumber":19,"format":0}]},"testFailureClassname":"java.lang.AssertionError","testFailureMessage":"1 expectation failed.\nExpected status code \u003c202\u003e but was \u003c409\u003e.\n","testFailureSummary":"FAILURE;java.lang.AssertionError;1 expectation failed.\nExpected status code \u003c202\u003e but was \u003c409\u003e.\n;NativeConstructorAccessorImpl.java","projectKey":"","annotatedResult":"FAILURE","manual":false,"testSource":"Cucumber","result":"FAILURE"}